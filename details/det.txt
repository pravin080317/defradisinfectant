Here‚Äôs a structured breakdown of the **Overall Map Capabilities** relevant to the Welsh Revaluation SBL, Comparable, and Smoothing model screens ‚Äî based on your screenshots, transcripts, and ESRI/Canvas/PCF context:

---

### üß≠ Overall Map Capabilities ‚Äì Functional View

| Capability Category  | Description                                                      | Example Use Case in SBL/Comparable Screens       |
| -------------------- | ---------------------------------------------------------------- | ------------------------------------------------ |
| **üß± Basic Display** |                                                                  |                                                  |
| - Plot properties    | Show dots/pins on map using coordinates                          | Show UARNs in Aberystwyth with band info         |
| - Color-coded pins   | Visual banding (A‚ÄìH, outlier, sale, etc.) using different colors | Band A = Blue, Outlier = Red X, Sale = Green dot |
| - Zoom/Pan           | Zoom in/out and move map freely                                  | Zoom to Cambrian Street level                    |
| - Map Legend         | Display dynamic legends for band, RAG, property type             | Legend below map (Band A, B, C...)               |

---

### üîÅ **Interactivity / Navigation**

| Capability              | Description                                             | Trigger Example                              |
| ----------------------- | ------------------------------------------------------- | -------------------------------------------- |
| - Click pin ‚Üí focus row | Highlight matching row in data table                    | Click purple pin ‚Üí auto-focus address below  |
| - Click row ‚Üí focus pin | Highlight pin on map when row is clicked                | Select UARN in table ‚Üí show green dot on map |
| - Drill-through         | Navigate to detailed UARN screen or batch edit          | Click UARN ‚Üí open band edit page             |
| - Dynamic filters       | Filter map by user selections (Type, Area, Band, Batch) | Area > 100 sqm + Band C only                 |
| - Radius/polygon select | Select a group of pins within radius or draw region     | 3km radius from outlier point                |
| - Table sync            | Map and table remain in sync during filters and zoom    | Changing filter updates both                 |

---

### üìä **Graph Integration / Analytical**

| Capability               | Description                                                    | Example                                       |
| ------------------------ | -------------------------------------------------------------- | --------------------------------------------- |
| - Band Margin Graph Sync | Adjust horizontal lines on graph, update bands and redraw pins | Move Band D margin ‚Üí pins auto-update         |
| - Show outliers          | Identify and mark outlier sales in a separate color or shape   | Red X on map or pink on graph                 |
| - Model Recalc Trigger   | Trigger recalculation of smoothening line on margin move       | Move Band E ‚Üí adjust slope of regression line |
| - Popup/Tooltip Info     | Hover/click pin shows mini info window (band, AVM, address)    | Hover pin ‚Üí "12 BERLLAN DEG, Band D, ¬£243K"   |

---

### ‚öôÔ∏è **Config & Tech Integration**

| Capability                 | Description                                                    | Platform Dependency                                      |
| -------------------------- | -------------------------------------------------------------- | -------------------------------------------------------- |
| - Real-time Update         | Filters trigger map/table refresh without page reload          | Requires PCF or embedded ESRI                            |
| - High-volume UARN support | Load >1000 points with clustering                              | Needs optimization, pagination, clustering               |
| - ESRI Web Embed           | Use existing GeoVM/ESRI viewer with config                     | Already seen in Find Address screen                      |
| - PCF Map Control          | Fully customisable React + TypeScript map logic                | Required for drag/drop, RAG logic                        |
| - Canvas Default Map       | Limited to Bing/LatLng view, no clustering, no drag/select     | MVP use only                                             |
| - Power BI Embed           | Good for static map + charts; poor real-time interaction       | Only useful for dashboard visualisation                  |
| - Drill actions / Routing  | Pin click triggers navigation inside app (e.g. band edit page) | Requires Power Fx + Canvas screen config or custom logic |

---

### üí° Optional/Future

| Feature                    | Description                                                                  | Complexity |
| -------------------------- | ---------------------------------------------------------------------------- | ---------- |
| - Heatmap / Density Layer  | Intensity view for clusters or sales densities                               | Medium     |
| - Drag pin ‚Üí reassign band | Directly reassign a property's band by dragging it within a threshold region | High       |
| - Batch overlay layers     | Show two or more batch layer boundaries as polygons                          | Medium     |
| - Compare side-by-side     | Map on left, graph on right, filters affecting both                          | Medium     |
| - Offline mode             | Cached tile or vector layer for disconnected mode                            | High       |

---

Would you like a follow-up table mapping these against:
‚úÖ **Canvas Native** vs üõ† **PCF Map Component** vs üåê **ESRI Web Embed** support?
Let me know and I‚Äôll structure it for MVP vs Full Build view.
