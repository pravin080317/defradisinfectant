1 Focus is thrown to the top of the page after an error
What happens
Your JS validation hides the file-input, shows the error summary, then calls window.scrollTo(0,0).
The keyboard focus lands on <body> (or the browser’s top chrome), so a screen-reader user must tab all the way down to find the summary.

Why it fails
SC 2.4.3 – the logical focus order is broken.
SC 3.3.1 – you did not set focus to the actual error message.

Fix
javascript
Copy
Edit
// after writing errors into the summary…
document.querySelector('.govuk-error-summary').focus();
Add tabindex="-1" and role="alert" to the summary so it can receive focus and is announced.

2 Focus is thrown to the top after adding a file
What happens
You append the file row and the green notification banner, then call the same helper that scrolls to the top.

Why it fails
SC 2.4.3 again – users lose their place and do not know a new control appeared.

Fix
Remove the scroll call.

Put focus on the “Continue to upload” button the moment the row is added:

javascript
Copy
Edit
$('#continue-upload').show().focus();
(If the button was already visible, skip .show().)

3 Page title never updates when the state changes
Why it matters
SC 2.4.2 Page Titled. Screen-reader users rely on the title to know whether the step succeeded.

Fix
After a successful add/change:

javascript
Copy
Edit
document.title = 'Document ready for upload – Upload multiple reports';
4 Notification banner is above the H1 and off-screen at 200 % zoom
Why it fails
Not a direct WCAG failure but poor UX for low-vision / magnifier users.

Fix (recommended GDS pattern)
Move the banner inside .govuk-width-container below the H1:

html
Copy
Edit
<h1 class="govuk-heading-xl">Upload multiple reports</h1>

<div class="govuk-notification-banner govuk-notification-banner--success"
     role="alert" data-module="govuk-notification-banner">
  …
</div>
The banner module will set tabindex="-1" and focus itself automatically, so both zoom and screen-reader users see it immediately.

5 “Document ready for upload” section appears after the “Add” button
Problems
Users don’t realise something new appeared below.

Screen-reader users do eventually reach it, but only after traversing the whole form again.

Fix
Insert the whole confirmation block immediately before the Add button instead of after it.

javascript
Copy
Edit
$('#ready-for-upload').insertBefore('#add-button');
Add aria-live="polite" to #ready-for-upload so its heading is announced automatically.

6 Change link returns focus to top, not the file-input
Fix
After a file is picked in the dialog:

javascript
Copy
Edit
$('#change-file').focus();           // keeps user on the same row
updateFileNameInTable(newName);      // then run your update
Avoid any scroll helper here.

7 Green banner text repeats twice with a screen-reader
You probably have two identical elements with role="alert" or you are initialising govuk-notification-banner.js twice.

Keep one banner container.

Call window.GOVUKFrontend.initAll() exactly once per page.

8 Make the next step explicit
Users expect “Upload multiple reports” to upload right away. Fix the copy:

html
Copy
Edit
<h2 class="govuk-heading-m">Document ready for upload</h2>
<p class="govuk-body">
  We’ve prepared 1 document. Select **Continue** to finish uploading,
  or **Change** to replace it.
</p>
9 Keyboard testing check-list (must pass)
Action	Expected focus
Press Add, choose file, press Open	Focus on Continue to upload button
Press Change, choose different file	Focus back on Change link
Submit with empty file list	Focus moves to error summary
Banner appears	Banner takes focus once, is not duplicated

Run through those steps with NVDA and 200 % zoom: the sequence should feel natural and never jump unexpectedly.

