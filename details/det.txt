$(".govuk-back-link").on("click", function (e) {
  // Check if user is on the Remove section
  if ($("#removefile").is(":visible")) {
    e.preventDefault();

    // Hide remove section and show main upload section
    $("#removefile").hide();
    $("#mainsection").show();

    // Restore focus to table heading or file input
    setTimeout(() => {
      const returnFocus = document.getElementById("tableHeadingSection") || document.getElementById("fileInputLabel");
      if (returnFocus) {
        returnFocus.setAttribute("tabindex", "-1");
        returnFocus.focus();
      }
    }, 100);
  } else {
    // In other sections, use normal browser back
    window.history.back();
  }
});
