SELECT 
    pfm.voa_portalfilemanagementid AS [FileManagementId],
    pfm.voap_name AS [FileName],
    pfm.statuscode AS [FileStatusCode],
    pfm.voap_uploadtype AS [UploadType],
    pfm.voap_portalrequestlookup AS [PortalRequestId],
    prs.voa_portalrequestsubmissionid AS [PortalRequestSubmissionId],
    rli.voa_requestlineitemid AS [RequestLineItemId],
    rli.voa_name AS [RequestLineItemName]
FROM 
    voa_portalfilemanagement AS pfm
LEFT JOIN 
    voa_portalrequest AS pr ON pr.voa_portalrequestid = pfm.voap_portalrequestlookup
LEFT JOIN 
    voa_portalrequestsubmission AS prs ON prs.voap_originatingportalrequest = pr.voa_portalrequestid
LEFT JOIN 
    voa_requestlineitem AS rli ON rli.voa_requestlineitemid = prs.voa_requestlineitemid
WHERE 
    pfm.voap_uploadtype = 930950000  -- UploadType = Evidence (option set value; adjust if different in your org)
    AND pfm.statuscode IN (1, 2, 3)   -- Active/Processing/New/etc.
ORDER BY 
    pfm.modifiedon DESC
