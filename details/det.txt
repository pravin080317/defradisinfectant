Perfect — here's a complete, **WCAG 2.2-compliant** and **GOV.UK Design System–aligned** rewrite for the **British National Grid Coordinates** and **UPRN** fields, including:

- `aria-describedby`
- `aria-invalid`
- correct `<fieldset>` and `<legend>` markup
- inline error handling pattern

---

### ✅ **Full HTML Fix**

```html
<!-- Unique Property Reference Number -->
<div class="govuk-form-group" id="uprn-form-group">
  <label class="govuk-label govuk-label--m" for="uprn">Unique Property Reference Number (optional)</label>
  <div id="uprn-hint" class="govuk-hint">
    The unique number given to the property by the local authority. This can be up to 12 digits.
  </div>
  <p id="uprn-error" class="govuk-error-message" style="display: none;">
    <span class="govuk-visually-hidden">Error:</span> UPRN must be a number with up to 12 digits
  </p>
  <input class="govuk-input" id="uprn" name="uprn" type="text"
         aria-describedby="uprn-hint"
         aria-invalid="false">
</div>

<!-- British National Grid Coordinates -->
<fieldset class="govuk-fieldset" aria-describedby="grid-coordinates-hint">
  <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
    British National Grid Coordinates (optional)
  </legend>

  <div id="grid-coordinates-hint" class="govuk-hint">
    Include if property might be difficult to find. Each coordinate can be up to 6 digits and up to 3 decimal places.
  </div>

  <!-- X (Eastings) -->
  <div class="govuk-form-group" id="xeastings-form-group">
    <label class="govuk-label" for="xeastings">X (Eastings)</label>
    <p id="xeastings-error" class="govuk-error-message" style="display: none;">
      <span class="govuk-visually-hidden">Error:</span> Enter a valid X coordinate
    </p>
    <input class="govuk-input govuk-input--width-one-third" id="xeastings" name="xeastings" type="text"
           aria-describedby="grid-coordinates-hint"
           aria-invalid="false">
  </div>

  <!-- Y (Northings) -->
  <div class="govuk-form-group" id="ynorthings-form-group">
    <label class="govuk-label" for="ynorthings">Y (Northings)</label>
    <p id="ynorthings-error" class="govuk-error-message" style="display: none;">
      <span class="govuk-visually-hidden">Error:</span> Enter a valid Y coordinate
    </p>
    <input class="govuk-input govuk-input--width-one-third" id="ynorthings" name="ynorthings" type="text"
           aria-describedby="grid-coordinates-hint"
           aria-invalid="false">
  </div>
</fieldset>
```

---

### ✅ **JavaScript Error Handling Logic (Simplified)**

In your JS validation method (like `locationDetailsVal()`), update error styling and ARIA like this:

```javascript
function showFieldError(inputId, errorMessage) {
  const input = document.getElementById(inputId);
  const formGroup = document.getElementById(`${inputId}-form-group`);
  const error = document.getElementById(`${inputId}-error`);

  formGroup.classList.add("govuk-form-group--error");
  input.setAttribute("aria-invalid", "true");
  error.style.display = "block";
  error.querySelector("span + text").textContent = errorMessage;
}

function clearFieldError(inputId) {
  const input = document.getElementById(inputId);
  const formGroup = document.getElementById(`${inputId}-form-group`);
  const error = document.getElementById(`${inputId}-error`);

  formGroup.classList.remove("govuk-form-group--error");
  input.removeAttribute("aria-invalid");
  error.style.display = "none";
}
```

---

### Why This Is Important

- **Improves accessibility**: Screen readers and voice tools now get proper relationships.
- **ARIA usage**: Ensures error states are announced clearly.
- **Design pattern compliance**: Matches [GOV.UK Fieldset pattern](https://design-system.service.gov.uk/components/fieldset/).

Let me know if you’d like the same treatment for other fields/pages — happy to build them out.
