customEvents
| where name == "LAPortalTracking"
| extend 
    userId = tostring(customDimensions.userId),
    sessionId = tostring(customDimensions.sessionId)
| summarize uniqueSessions = dcount(sessionId), uniqueUsers = dcount(userId) by bin(timestamp, 5m)
| order by timestamp asc


customEvents
| where name == "LAPortalTracking"
| extend 
    userId = tostring(customDimensions.userId),
    sessionId = tostring(customDimensions.sessionId)
| summarize maxConcurrentUsers = max(dcount(sessionId))
