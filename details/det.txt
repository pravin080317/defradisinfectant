const DEMO_HIDE_FORM_ON_UPLOAD = true; // toggle flag

/**
 * Adds or removes the upload guidance message based on state.
 * @param {boolean} show - Whether to show or remove the message.
 * @param {string} text - Text to inject (required if show = true).
 * @param {string} afterElementId - Element ID to inject after (required if show = true).
 */
function toggleAddGuidanceMessage(show, text = "", afterElementId = "") {
  const messageId = "confirm-guidance";

  // Remove any existing message
  const existing = document.getElementById(messageId);
  if (existing) existing.remove();

  if (show && text && afterElementId) {
    const para = document.createElement("p");
    para.id = messageId;
    para.className = "govuk-body";
    para.textContent = text;

    // Insert after anchor element
    const anchor = document.getElementById(afterElementId);
    if (anchor) {
      anchor.insertAdjacentElement("afterend", para);
    }

    // Optional: announce in live region
    const announcer = document.getElementById("upload-guidance-wrapper");
    if (announcer) {
      announcer.setAttribute("aria-live", "polite");
      announcer.innerHTML = `<p class="govuk-visually-hidden">${text}</p>`;
    }
  }
}


<div id="upload-guidance-wrapper" aria-live="polite"></div>


if (DEMO_HIDE_FORM_ON_UPLOAD) {
  toggleAddGuidanceMessage(
    true,
    "Select Confirm and send to finish, or Change to replace it.",
    "document-ready-heading"
  );
}

if (DEMO_HIDE_FORM_ON_UPLOAD) {
  toggleAddGuidanceMessage(false); // Remove the guidance
}
