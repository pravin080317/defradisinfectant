Power Pages Post-Reset Remediation Process
Overview
Following a Power Pages reset, the Azure App Registration must be correctly configured to ensure seamless authentication and access management. This section outlines the remediation steps required to update and configure the Power Pages App Registration in Azure Entra ID (formerly Azure AD).

Pre-Requisites for ECS Engineers
Before beginning the remediation process, the ECS engineer should ensure the following:

✅ Access Requirements

Must have access to the Azure Entra ID portal: https://portal.azure.com
Must be logged in as a Global Administrator in the Azure AD Management Console.
✅ Scope of Updates The following actions must be performed for each App Registration linked to the Power Pages environment.

Step 1: Update the App Registration Name
Actions
Log into the Azure Portal → Navigate to Enterprise Applications.
Locate and open the App Registration for the portal.
Ensure the Enterprise Application filter is cleared to make it visible.
Go to the Properties blade.
Update the App Registration Name in the Name field.
Click Save to confirm the update.
Step 2: Assign the Azure AD Security Group
Actions
Navigate to Azure Entra ID → Enterprise Applications.
Locate and select the App Registration instance.
You may need to change the Application Type filter to All Applications.
Go to the Users and Groups blade.
Click Add user/group.
Click None Selected, then search for the Azure AD Security Group (as per the predefined mapping).
Select the group, then click Select.
Click Assign to apply the group to the application.
Step 3: Set Assignment & Visibility Settings
Actions
Navigate to the Properties blade.
Update the following settings:
Assignment required? → Set to Yes (if required).
Visible to users? → Set to Yes (if applicable).
Click Save to confirm the settings.
Step 4: Remove Legacy Azure Active Directory Graph API Permissions
Older Power Pages deployments might contain outdated Azure Active Directory Graph API references. These need to be removed to ensure compliance with Microsoft’s latest authentication framework.

Actions
Navigate to Azure Entra ID → App Registrations.
Select All Applications, then search for the App Registration.
Open the App Registration.
Under Manage, go to API Permissions.
Locate the Azure Active Directory Graph API.
Click the "..." menu at the end of the entry.
Select Revoke all admin consents and confirm.
Click the "..." menu again and select Remove all permissions.
Confirm the removal.
Ensure that only User.Read (Microsoft Graph API) is retained.
Step 5: Update the Redirect URI
After a reset, the Redirect URI must be updated to match the newly deployed Power Pages site.

Actions
Navigate to Azure Entra ID → App Registrations.
Select All Applications, then search for the App Registration.
Open the App Registration.
In the Web / Redirect URI section, update the Redirect URI as per the relevant Power Pages configuration.
Click Save to confirm the update.
Step 6: Grant Admin Consent for Microsoft Graph API
Once the API permissions are updated, Admin Consent must be granted to enable secure authentication.

Actions
Navigate to Azure Entra ID → App Registrations.
Open the App Registration.
Go to the API Permissions blade.
Click Add a permission.
Click Grant admin consent.
Confirm the consent request.
Final Checklist – Post Remediation Validation
✅ App Registration name updated correctly
✅ Azure AD Security Groups assigned correctly
✅ Assignment & Visibility settings configured
✅ Legacy Azure AD Graph API permissions removed
✅ Correct Redirect URI configured
✅ Admin Consent granted for Microsoft Graph API
✅ Users able to authenticate via Power Pages

